#:import FadeTransition kivy.uix.screenmanager.FadeTransition

Management:
    transition: FadeTransition()
    HomeScreen:
    Encode:
    Decode:


<But@Button>:
    font_size: "30sp"
    background_normal: "gui_deps/rectangle-transparent-blank-3.png"
    background_down: "gui_deps/rectangle-transparent-blank-3.png"


<But2@Button>:
    font_size: 50
    background_normal: "gui_deps/button-transparent-background-17.png"
    background_down: "gui_deps/button-transparent-background-17.png"

<HomeScreen>:
    name: "home"
    spacing: 10
    padding: 10
    Image:
        source: "gui_deps/blue-square-walls-24979-2880x1800.jpg"
        allow_stretch: True
        keep_ratio: False
    GridLayout:
        orientation: "horizontal"
        rows: 2
        Label:
            size_hint_y: 0.3
            text: "Picture Encoding Program"
            font_size: "50sp"
            color: 0,1,.5,1
            background_color: 0,0,0,0
            bold: True

        GridLayout:
            rows: 2
            AnchorLayout:
                But:
                    on_release: app.root.current = "Enc"
                    text: "Encode"
                    color: 1,0,0,1
                    size_hint_y: 0.3
                    size_hint_x: 0.3
            AnchorLayout:
                But:
                    on_release: app.root.current = "Dec"
                    text: "Decode"
                    color: 0,1,0,1
                    size_hint_y: 0.3
                    size_hint_x: 0.3

<LB@Label>:
    font_size: '15sp'
    center_x: 0
    text_size: self.size
    halign: "left"

<TI@TextInput>:
    multiline: False
    font_size: 50
<GR@GridLayout>:
    pos_hint: {"center_x": .50, "center_y": .50}
    size_hint_y: .1
    cols: 2

<Encode>:
    name: "Enc"
    spacing: 10
    padding: 10
    Image:
        source: "gui_deps/blue-square-walls-24979-2880x1800.jpg"
        allow_stretch: True
        keep_ratio: False
    GridLayout:
        orientation: "horizontal"
        rows: 3

        Image:
            source: None
            id: img

            keep_ratio: True
            allow_stretch: True

        GridLayout:
            cols: 2
            GridLayout:
                spacing: 10
                padding: 10
                size_hint_x: .3
                rows: 4
                LB:
                    text: "Directory"
                LB:
                    text: "Message"
                LB:
                    text: "Location"
                LB:
                    text: "Width"

            GridLayout:
                spacing: 10
                padding: 10
                rows: 4
                TI:
                    id: dir
                TI:
                    id: mes
                TI:
                    id: loc
                TI:
                    id: wid

#            ScreenManager:
#                id: manager
#                transition: FadeTransition()
#
#                Screen:
#                    name: "directory"
#                    GR:
#                        LB:
#                            text: "Directory"
#                        TI:
#                            id: dir
#
#                Screen:
#                    name: "message"
#                    GR:
#                        LB:
#                            text: "Message"
#                        TI:
#                            id: mes
#                Screen:
#                    name: "location"
#                    GR:
#                        LB:
#                            text: "Location"
#                        TI:
#                            id: loc
#                Screen:
#                    name: "width"
#                    GR:
#                        LB:
#                            text: "Width"
#                        TI:
#                            id: wid

        Button:
            size_hint: 0.3, 0.1
            pos_hint: {"center_x": 0.5, "y": 0.05}
            text: "Encode"
            on_press: root.encodePhoto(), root.firePopup()


<encPU>:
    GridLayout:
        rows: 2
        Image:
            source: "/users/yonagil/downloads/image3.jpg"
            id: img

            keep_ratio: True
            allow_stretch: True

        GridLayout:
            cols: 2
            Label:
                text: "IP"
            TextInput:
                font_size: 30


<decPU>:
    title: "Decoded Message"
    title_align: "center"
    title_size: 50
    Label:
        id: decodedLabel
        text: "outputed text here"
        font_size: 50

<Decode>:
    name: "Dec"
    spacing: 10
    padding: 10
    Image:
        source: "gui_deps/blue-square-walls-24979-2880x1800.jpg"
        keep_ratio: False
        allow_stretch: True
    GridLayout:
        rows: 3
        Image:
            source: None
            id: img2

            keep_ratio: True
            allow_stretch: True

        GR:
            LB:
                text: "Directory"
            TI:
                id: dir2

        Button:
            size_hint_y: .1
            text: "Decode"
            font_size: 50
            on_press: root.decode_image(), root.firePopup()

<recPU>:
    Button:
        text: "here"
    ScreenManager:
        id: man
        transition: FadeTransition()
        Screen:
            GridLayout:
                rows: 2
                Button:
                    text: "Aceept"
                    on_press: root.acceptIMG(True)
                    on_release:  app.root.current = "a"
                Button:
                    text: "Decline"
                    on_press: root.acceptIMG(False)

        Screen:
            name: "a"
            GridLayout:
                rows: 2
                Image:
                    size_hint_y: 0.7
                    source: None
                GridLayout:
                    cols: 2
                    Button:
                        text: "Download"
                    Button:
                        text: "Dismiss"